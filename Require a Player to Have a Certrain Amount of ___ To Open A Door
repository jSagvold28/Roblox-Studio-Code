-- Make a script inside of ServerScriptService

local function onPlayerJoin(player)
	local leaderstats = Instance.new("Folder")
	leaderstats.Name = "leaderstats"
	leaderstats.Parent = player
	
	
	local gold = Instance.new("IntValue")
	gold.Name = "Gold"
	gold.Value = 0 -- chose what ever value
	gold.Parent = leaderstats
end


game.Players.PlayerAdded:Connect(onPlayerJoin)

-- Make 3 parts and name the middle one called "Wall" and anchor it
-- Make a part infront of the door and call it "PointCheck"
-- Make it invisble

local part = script.Parent
local wall = game.Workspace.Wall
local canOpen = true

WITHOUT CURRENCY DEDUCTION

local function lift(otherPart)
	local partParent = otherPart.Parent
	local humanoid = partParent:FindFirstChildWhichIsA("Humanoid")
	if humanoid and canOpen then
		local player = game.Players:FindFirstChild(partParent.Name)
		local gold = player.leaderstats.Gold.Value
		if player and gold > 100 then
			canOpen = false
			wall.Transparency = 1
			wall.CanCollide = false 
			wait(2)
			wall.Transparency = 0
			wall.CanCollide = true
			canOpen = true 
		end
	end
end

WITH CURRENCY DEDUCTION

local part = script.Parent
local wall = game.Workspace.Wall
local canOpen = true

local function lift(otherPart)
	local partParent = otherPart.Parent
	local humanoid = partParent:FindFirstChildWhichIsA("Humanoid")
	if humanoid and canOpen then
		local player = game.Players:FindFirstChild(partParent.Name)
		local gold = player.leaderstats.Gold.Value
		if player and gold > 100 then
			canOpen = false
			player.leaderstats.Gold.Value = player.leaderstats.Gold.Value - 1 -- choose amount
			wall.Transparency = 1
			wall.CanCollide = false 
			wait(2)
			wall.Transparency = 0
			wall.CanCollide = true
			canOpen = true 
		end
	end
end


part.Touched:Connect(lift)
